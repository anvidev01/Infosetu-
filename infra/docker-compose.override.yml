version: '3.8'

services:
  postgres:
    platform: linux/arm64
    environment:
      - ORBSTACK_DOMAIN=postgres.infosetu.local

  redis:
    platform: linux/arm64
    environment:
      - ORBSTACK_DOMAIN=redis.infosetu.local

  go-api:
    platform: linux/arm64
    environment:
      - ORBSTACK_DOMAIN=api.infosetu.local
    volumes:
      - ../backend:/app

  nextjs:
    platform: linux/arm64
    environment:
      - ORBSTACK_DOMAIN=app.infosetu.local
    volumes:
      - ../:/app
      - /app/node_modules
      - /app/.next

  ai-service:
    platform: linux/arm64
    environment:
      - ORBSTACK_DOMAIN=ai.infosetu.local
    volumes:
      - ../backend/ai:/app
